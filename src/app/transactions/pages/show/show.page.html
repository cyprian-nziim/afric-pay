<div class="container mx-auto">
  <!-- Back Button -->
  <button class="btn btn-ghost mb-6 px-1" (click)="location.back()">
    ‚Üê Back to Transactions
  </button>

  <!-- Loading State -->
  @if (isLoading()) {
    <div class="flex justify-center items-center h-64">
      <span class="loading loading-spinner loading-lg"></span>
    </div>
  }

  <!-- Error State -->
  @if (error()) {
    <div class="alert alert-error">
      <span>{{ error() }}</span>
      <button
        class="btn btn-ghost btn-sm"
        (click)="loadTransaction(transactionId() || '')"
      >
        Retry
      </button>
    </div>
  }

  <!-- Transaction Details -->
  @if (transaction()) {
    <div class="card bg-base-100 shadow-none">
      <div class="card-body p-0">
        <h1 class="card-title text-2xl mb-6">
          Transaction Details
          <span
            class="badge"
            [ngClass]="{
              'badge-success': transaction()?.status === 'posted',
              'badge-warning': transaction()?.status === 'pending',
              'badge-error': transaction()?.status === 'failed',
            }"
          >
            {{ transaction()?.status | titlecase }}
          </span>
        </h1>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h2 class="text-xl font-semibold mb-4">Transaction Information</h2>
            <div class="space-y-2">
              <div>
                <div class="text-sm text-gray-500">Description</div>
                <div class="font-medium">{{ transaction()?.description }}</div>
              </div>
              <div>
                <div class="text-sm text-gray-500">Date</div>
                <div class="font-medium">
                  {{ transaction()?.date | date: "medium" }}
                </div>
              </div>
            </div>
          </div>

          <div class="bg-base-200 p-4 rounded-lg">
            <h2 class="text-xl font-semibold mb-4">Amount</h2>
            <div
              class="text-3xl font-bold"
              [ngClass]="{
                'text-success': transaction()?.amount! > 0 ? true : false,
                'text-error': transaction()?.amount! < 0 ? true : false,
              }"
            >
              {{ transaction()?.amount | number }} {{ transaction()?.currency }}
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="flex justify-end gap-2">
          <button class="btn btn-outline">Print Receipt</button>
          <button class="btn btn-primary">Report Issue</button>
        </div>
      </div>
    </div>
  }
</div>
